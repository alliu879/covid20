{"ast":null,"code":"var _jsxFileName = \"/Users/albert/Desktop/covid20/client/src/Visualization.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { AreaChart } from 'react-chartkick';\nimport 'chart.js';\nimport axios from 'axios';\nimport states from './us_states.json';\nexport default function Visualization(props) {\n  const [data, setData] = useState({});\n  useEffect(() => {\n    const endpoint = `https://covidtracking.com/api/v1/states/${props.state}/daily.json`;\n    axios.get(endpoint).then(res => {\n      const totalCases = {\n        name: \"Total cases\",\n        data: {}\n      };\n      const newCases = {\n        name: \"New cases\",\n        data: {}\n      };\n      res.data.slice(0, props.days).forEach(e => {\n        totalCases.data[e.date] = e.positive;\n        newCases.data[e.date] = e.positiveIncrease;\n      });\n      setData([totalCases, newCases]);\n    }).catch(err => {\n      console.log(err);\n    });\n  });\n\n  const fullName = abbr => {\n    return states.filter(e => e.abbreviation === abbr)[0].name;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(AreaChart, {\n    data: data,\n    xtitle: \"Date\",\n    ytitle: \"Population\",\n    min: 0,\n    title: `Past ${props.days} days for ${fullName(props.state)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/albert/Desktop/covid20/client/src/Visualization.jsx"],"names":["React","useEffect","useState","AreaChart","axios","states","Visualization","props","data","setData","endpoint","state","get","then","res","totalCases","name","newCases","slice","days","forEach","e","date","positive","positiveIncrease","catch","err","console","log","fullName","abbr","filter","abbreviation"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,OAAO,UAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAGA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMS,QAAQ,GAAI,2CAA0CH,KAAK,CAACI,KAAM,aAAxE;AACAP,IAAAA,KAAK,CAACQ,GAAN,CAAUF,QAAV,EACEG,IADF,CACOC,GAAG,IAAI;AACZ,YAAMC,UAAU,GAAG;AAACC,QAAAA,IAAI,EAAE,aAAP;AAAsBR,QAAAA,IAAI,EAAE;AAA5B,OAAnB;AACA,YAAMS,QAAQ,GAAG;AAACD,QAAAA,IAAI,EAAE,WAAP;AAAoBR,QAAAA,IAAI,EAAE;AAA1B,OAAjB;AACAM,MAAAA,GAAG,CAACN,IAAJ,CAASU,KAAT,CAAe,CAAf,EAAkBX,KAAK,CAACY,IAAxB,EAA8BC,OAA9B,CAAsCC,CAAC,IAAI;AAC1CN,QAAAA,UAAU,CAACP,IAAX,CAAgBa,CAAC,CAACC,IAAlB,IAA0BD,CAAC,CAACE,QAA5B;AACAN,QAAAA,QAAQ,CAACT,IAAT,CAAca,CAAC,CAACC,IAAhB,IAAwBD,CAAC,CAACG,gBAA1B;AACA,OAHD;AAIAf,MAAAA,OAAO,CAAC,CAACM,UAAD,EAAaE,QAAb,CAAD,CAAP;AACA,KATF,EAUEQ,KAVF,CAUQC,GAAG,IAAI;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,KAZF;AAaA,GAfQ,CAAT;;AAiBA,QAAMG,QAAQ,GAAGC,IAAI,IAAI;AACxB,WAAOzB,MAAM,CAAC0B,MAAP,CAAcV,CAAC,IAAIA,CAAC,CAACW,YAAF,KAAmBF,IAAtC,EAA4C,CAA5C,EAA+Cd,IAAtD;AACA,GAFD;;AAIA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAER,IAAjB;AAAuB,IAAA,MAAM,EAAC,MAA9B;AAAqC,IAAA,MAAM,EAAC,YAA5C;AAAyD,IAAA,GAAG,EAAE,CAA9D;AAAiE,IAAA,KAAK,EAAG,QAAOD,KAAK,CAACY,IAAK,aAAYU,QAAQ,CAACtB,KAAK,CAACI,KAAP,CAAc,EAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD;AAKA","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { AreaChart } from 'react-chartkick'\nimport 'chart.js'\nimport axios from 'axios'\nimport states from './us_states.json'\n\n\nexport default function Visualization(props) {\n\tconst [data, setData] = useState({})\n\n\tuseEffect(() => {\n\t\tconst endpoint = `https://covidtracking.com/api/v1/states/${props.state}/daily.json`\n\t\taxios.get(endpoint)\n\t\t\t.then(res => {\n\t\t\t\tconst totalCases = {name: \"Total cases\", data: {}}\n\t\t\t\tconst newCases = {name: \"New cases\", data: {}}\n\t\t\t\tres.data.slice(0, props.days).forEach(e => {\n\t\t\t\t\ttotalCases.data[e.date] = e.positive\n\t\t\t\t\tnewCases.data[e.date] = e.positiveIncrease\n\t\t\t\t});\n\t\t\t\tsetData([totalCases, newCases])\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t});\n\t});\n\n\tconst fullName = abbr => {\n\t\treturn states.filter(e => e.abbreviation === abbr)[0].name;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<AreaChart data={data} xtitle=\"Date\" ytitle=\"Population\" min={0} title={`Past ${props.days} days for ${fullName(props.state)}`}/>\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}